<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Code Quest: Levels 3-4 - Math & Decision Making</title>
  <style>
    * {
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #1e1e2f 0%, #2d2d44 100%);
      color: #fff;
      margin: 0;
      padding: 0;
      text-align: center;
      min-height: 100vh;
    }
    
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }
    
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 2s infinite alternate;
    }
    
    @keyframes twinkle {
      0% { opacity: 0.3; }
      100% { opacity: 1; }
    }
    
    .game-container {
      position: relative;
      z-index: 10;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .hud {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(41, 41, 72, 0.9);
      backdrop-filter: blur(10px);
      padding: 15px 25px;
      border-radius: 15px;
      border: 2px solid #00ffff;
      font-weight: bold;
      z-index: 1000;
      box-shadow: 0 8px 32px rgba(0, 255, 255, 0.3);
    }
    
    .progress-bar {
      width: 200px;
      height: 8px;
      background: #333;
      border-radius: 4px;
      margin: 5px 0;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #00ffff, #ff00ff);
      transition: width 0.5s ease;
      border-radius: 4px;
    }
    
    header {
      text-align: center;
      background: rgba(21, 21, 43, 0.8);
      backdrop-filter: blur(10px);
      padding: 30px;
      border-radius: 20px;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(0, 255, 255, 0.3);
    }
    
    .level-selector {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .level-card {
      background: rgba(41, 41, 72, 0.8);
      backdrop-filter: blur(10px);
      padding: 20px;
      border-radius: 15px;
      border: 2px solid #444;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .level-card:hover {
      border-color: #00ffff;
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 255, 255, 0.3);
    }
    
    .level-card.active {
      border-color: #00ffff;
      background: rgba(0, 255, 255, 0.1);
    }
    
    .level-card.completed {
      border-color: #00ff00;
      background: rgba(0, 255, 0, 0.1);
    }
    
    .section {
      background: rgba(41, 41, 72, 0.8);
      backdrop-filter: blur(10px);
      margin: 20px 0;
      padding: 30px;
      border-radius: 20px;
      border: 2px dashed #00ffff;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }
    
    .button {
      padding: 12px 24px;
      margin: 8px;
      background: linear-gradient(45deg, #00ffff, #0099cc);
      color: #000;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 14px;
    }
    
    .button:hover {
      background: linear-gradient(45deg, #00cccc, #007799);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 255, 255, 0.4);
    }
    
    .hidden {
      display: none;
    }
    
    .code-editor {
      background: linear-gradient(135deg, #1e1e1e, #2a2a2a);
      color: #d4d4d4;
      padding: 25px;
      border-radius: 15px;
      font-family: 'Courier New', monospace;
      text-align: left;
      margin: 20px 0;
      border: 2px solid #444;
      box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
      font-size: 1.1em;
    }
    
    .code-output {
      background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
      color: #00ff00;
      padding: 20px;
      border-radius: 15px;
      font-family: 'Courier New', monospace;
      text-align: left;
      margin: 20px 0;
      border: 2px solid #00ff00;
      box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
      font-size: 1.1em;
    }
    
    textarea {
      width: 100%;
      height: 180px;
      background: linear-gradient(135deg, #1e1e1e, #2a2a2a);
      color: #d4d4d4;
      border: 2px solid #444;
      border-radius: 15px;
      padding: 20px;
      font-family: 'Courier New', monospace;
      font-size: 15px;
      resize: vertical;
      box-sizing: border-box;
      transition: all 0.3s ease;
    }
    
    textarea:focus {
      outline: none;
      border-color: #00ffff;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
      background: linear-gradient(135deg, #2a2a2a, #3a3a3a);
    }
    
    .tip-box {
      background: linear-gradient(45deg, #2a2a4a, #3a3a5a, #4a4a6a);
      border-left: 8px solid #ffaa00;
      border-radius: 15px;
      padding: 25px;
      margin: 25px 0;
      box-shadow: 0 0 20px rgba(255, 170, 0, 0.2);
    }
    
    .tip-box h3 {
      color: #ffaa00;
      margin-top: 0;
      font-size: 1.3em;
    }
    
    .lesson-tabs {
      display: flex;
      justify-content: center;
      margin: 25px 0;
      flex-wrap: wrap;
      gap: 15px;
    }
    
    .lesson-tab {
      padding: 12px 25px;
      background: rgba(0, 255, 255, 0.1);
      border: 2px solid #00ffff;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: bold;
    }
    
    .lesson-tab.active {
      background: #00ffff;
      color: #000;
      box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
    }
    
    .lesson-tab:hover {
      background: rgba(0, 255, 255, 0.2);
      transform: translateY(-2px);
    }
    
    .navigation {
      display: flex;
      justify-content: space-between;
      margin: 30px auto;
      max-width: 800px;
      flex-wrap: wrap;
      gap: 15px;
    }
    
    .nav-btn {
      background: linear-gradient(45deg, #444, #666);
      color: #00ffff;
      padding: 12px 24px;
      border: 2px solid #00ffff;
      border-radius: 25px;
      text-decoration: none;
      font-weight: bold;
      transition: all 0.3s ease;
      flex: 1;
      min-width: 150px;
      text-align: center;
    }
    
    .nav-btn:hover {
      background: linear-gradient(45deg, #00ffff, #0099cc);
      color: #000;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 255, 255, 0.3);
    }
    
    .math-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin: 25px 0;
    }
    
    .math-example {
      background: linear-gradient(135deg, #1b1b33, #2b2b43);
      padding: 20px;
      border-radius: 15px;
      border: 2px solid #00ffff;
      box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
      transition: transform 0.3s ease;
    }
    
    .math-example:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 255, 255, 0.3);
    }
    
    .condition-examples {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin: 25px 0;
    }
    
    .condition-card {
      background: linear-gradient(135deg, #1b1b33, #2b2b43);
      padding: 20px;
      border-radius: 15px;
      border: 2px solid #ff6b9d;
      box-shadow: 0 0 15px rgba(255, 107, 157, 0.2);
      transition: all 0.3s ease;
    }
    
    .condition-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(255, 107, 157, 0.3);
    }
    
    .condition-card h4 {
      color: #f8b500;
      margin-top: 0;
    }
    
    @media (max-width: 768px) {
      .game-container {
        padding: 10px;
      }
      
      .level-selector {
        grid-template-columns: 1fr;
      }
      
      .hud {
        position: static;
        margin-bottom: 20px;
      }
    }
  </style>
</head>
<body>

<div class="stars" id="stars"></div>

<div class="hud">
  <div>ğŸŒŸ Total XP: <span id="totalXP">0</span></div>
  <div>ğŸ¯ Current Level: <span id="currentLevel">3-4</span></div>
  <div class="progress-bar">
    <div class="progress-fill" id="progressFill"></div>
  </div>
  <div>ğŸ“ˆ Progress: <span id="progressText">0%</span></div>
</div>

<div class="game-container">

<header>
  <h1>ğŸ® Code Quest: Levels 3-4</h1>
  <p>Math & Calculations + Decision Making</p>
  
  <div class="level-selector">
    <div class="level-card" onclick="goToLevel('math')" id="mathCard">
      <h3>ğŸ”¢ Level 3: Math & Calculations</h3>
      <p>Numbers, Operations, Calculator</p>
      <div>Build a calculator</div>
    </div>
    <div class="level-card" onclick="goToLevel('decisions')" id="decisionsCard">
      <h3>ğŸ¤” Level 4: Decision Making</h3>
      <p>If/Else, Conditions, Logic</p>
      <div>Smart programs</div>
    </div>
  </div>
</header>

<!-- Level 3: Math & Calculations -->
<div id="mathLevel" class="section hidden">
  <h2>ğŸ”¢ Math & Calculations</h2>
  
  <div class="lesson-tabs">
    <div class="lesson-tab active" onclick="showMathLesson(1)">ğŸ”¢ Basic Math</div>
    <div class="lesson-tab" onclick="showMathLesson(2)">âš¡ Advanced Ops</div>
    <div class="lesson-tab" onclick="showMathLesson(3)">ğŸ† Challenge</div>
  </div>

  <div id="mathLesson1" class="hidden">
    <h3>ğŸ”¢ Basic Arithmetic Operations</h3>
    <p>Python is like a super-powered calculator! Let's explore the fundamental operations that power all mathematical computing.</p>
    
    <div class="math-grid">
      <div class="math-example">
        <h4>â• Addition & Subtraction</h4>
        <div class="code-editor">
          # Basic arithmetic<br>
          print("Addition:", 25 + 17)      # 42<br>
          print("Subtraction:", 50 - 23)   # 27<br>
          print("Mixed:", 10 + 5 - 3)      # 12<br><br>
          
          # With variables<br>
          score1 = 85<br>
          score2 = 92<br>
          total = score1 + score2<br>
          print("Total score:", total)     # 177
        </div>
      </div>
      
      <div class="math-example">
        <h4>âœ–ï¸ Multiplication & Division</h4>
        <div class="code-editor">
          # Scaling and splitting<br>
          print("Multiplication:", 8 * 7)   # 56<br>
          print("Division:", 100 / 4)       # 25.0<br>
          print("Combined:", 3 * 8 / 2)     # 12.0<br><br>
          
          # Real-world example<br>
          pizza_slices = 8<br>
          people = 4<br>
          per_person = pizza_slices / people<br>
          print(f"Slices per person: {per_person}")
        </div>
      </div>
    </div>

    <div class="tip-box">
      <h3>ğŸ’¡ Pro Tips</h3>
      <p>â€¢ Division (/) always returns a decimal (float) in Python 3<br>
      â€¢ Use parentheses to control order: (10 + 5) * 2 = 30<br>
      â€¢ Python follows PEMDAS: Parentheses, Exponents, Multiplication/Division, Addition/Subtraction</p>
    </div>

    <p><strong>ğŸ¯ Practice Time!</strong></p>
    <textarea id="mathCode1" placeholder="Try your own math operations...">print("Basic Calculator")
print("===============")
print("10 + 15 =", 10 + 15)
print("100 - 25 =", 100 - 25)
print("6 * 8 =", 6 * 8)
print("81 / 9 =", 81 / 9)

# Calculate the area of a rectangle
length = 12
width = 8
area = length * width
print(f"Rectangle area: {area} square units")</textarea>
    <br>
    <button class="button" onclick="runMathCode(1)">â–¶ï¸ Run Code</button>
    
    <div id="mathOutput1" class="code-output hidden"></div>
  </div>

  <div id="mathLesson2" class="hidden">
    <h3>âš¡ Advanced Operations</h3>
    <p>Unlock advanced mathematical operations! Learn about exponents and modular arithmetic - essential for algorithms and problem-solving.</p>
    
    <div class="math-grid">
      <div class="math-example">
        <h4>ğŸš€ Power Operations</h4>
        <div class="code-editor">
          # Exponential power<br>
          print("2 to the power of 3:", 2 ** 3)    # 8<br>
          print("5 squared:", 5 ** 2)              # 25<br>
          print("10 cubed:", 10 ** 3)              # 1000<br><br>
          
          # Scientific notation<br>
          print("2 to the 10th:", 2 ** 10)        # 1024
        </div>
      </div>
      
      <div class="math-example">
        <h4>ğŸ”„ Remainder (Modulo)</h4>
        <div class="code-editor">
          # Finding remainders<br>
          print("17 divided by 5 remainder:", 17 % 5)  # 2<br>
          print("20 divided by 3 remainder:", 20 % 3)  # 2<br>
          print("Perfect division:", 15 % 5)           # 0<br><br>
          
          # Check if number is even<br>
          number = 17<br>
          if number % 2 == 0:<br>
          &nbsp;&nbsp;&nbsp;&nbsp;print(f"{number} is even")<br>
          else:<br>
          &nbsp;&nbsp;&nbsp;&nbsp;print(f"{number} is odd")
        </div>
      </div>
    </div>

    <p><strong>ğŸ¯ Experiment with Advanced Math!</strong></p>
    <textarea id="mathCode2" placeholder="Try power and remainder operations...">print("ğŸš€ Advanced Math Operations")
print("=" * 30)

# Power examples
print("Powers of 2:")
for i in range(1, 6):
    result = 2 ** i
    print(f"2^{i} = {result}")

print("\nğŸ”„ Remainder Magic:")
# Check if numbers are even or odd
for num in [12, 15, 8, 21, 10]:
    if num % 2 == 0:
        print(f"{num} is even")
    else:
        print(f"{num} is odd")

# Compound interest calculation
principal = 1000
rate = 0.05  # 5%
time = 3
final_amount = principal * (1 + rate) ** time
print(f"\nCompound Interest: ${final_amount:.2f}")</textarea>
    <br>
    <button class="button" onclick="runMathCode(2)">â–¶ï¸ Run Code</button>
    
    <div id="mathOutput2" class="code-output hidden"></div>
  </div>

  <div id="mathLesson3" class="hidden">
    <h3>ğŸ† Challenge: Build a Calculator</h3>
    <p><strong>Mission:</strong> Create a comprehensive calculator program!</p>
    
    <div class="tip-box">
      <h3>ğŸ¯ Challenge Requirements</h3>
      <p>Create a program that can:</p>
      <ul style="text-align: left;">
        <li>Perform basic arithmetic operations (+, -, *, /)</li>
        <li>Calculate powers and remainders</li>
        <li>Handle user input for calculations</li>
        <li>Display results in a user-friendly format</li>
      </ul>
    </div>

    <textarea id="mathCode3" placeholder="Build your calculator here...">print("ğŸ§® Advanced Python Calculator")
print("=" * 40)
print("Available operations:")
print("+ (addition)    - (subtraction)")
print("* (multiplication)    / (division)")
print("** (power)    % (remainder)")
print("=" * 40)

# Get user input
num1 = float(input("Enter first number: "))
operation = input("Enter operation (+, -, *, /, **, %): ")
num2 = float(input("Enter second number: "))

# Perform calculation
if operation == '+':
    result = num1 + num2
elif operation == '-':
    result = num1 - num2
elif operation == '*':
    result = num1 * num2
elif operation == '/':
    if num2 == 0:
        print("âŒ Error: Cannot divide by zero!")
    else:
        result = num1 / num2
elif operation == '**':
    result = num1 ** num2
elif operation == '%':
    result = num1 % num2
else:
    print("âŒ Invalid operation!")

if 'result' in locals():
    print(f"ğŸ¯ Result: {num1} {operation} {num2} = {result}")

print("\nThanks for using the calculator! ğŸ‘‹")</textarea>
    <br>
    <button class="button" onclick="runMathCode(3)">ğŸš€ Run Calculator</button>
    
    <div id="mathOutput3" class="code-output hidden"></div>
  </div>
</div>

<!-- Level 4: Decision Making -->
<div id="decisionsLevel" class="section hidden">
  <h2>ğŸ¤” Decision Making with Conditional Statements</h2>
  
  <div class="lesson-tabs">
    <div class="lesson-tab active" onclick="showDecisionLesson(1)">ğŸ¤” If/Else Basics</div>
    <div class="lesson-tab" onclick="showDecisionLesson(2)">ğŸ” Comparisons</div>
    <div class="lesson-tab" onclick="showDecisionLesson(3)">ğŸ† Challenge</div>
  </div>

  <div id="decisionLesson1" class="hidden">
    <h3>ğŸ¤” If/Else Fundamentals</h3>
    <p>Conditional statements are the brain of your programs! They allow your code to make decisions and respond differently based on different situations.</p>
    
    <div class="condition-examples">
      <div class="condition-card">
        <h4>ğŸŒ¡ï¸ Temperature Check</h4>
        <div class="code-editor">
          temperature = 75<br><br>
          
          if temperature > 80:<br>
          &nbsp;&nbsp;&nbsp;&nbsp;print("It's hot! ğŸ”¥")<br>
          &nbsp;&nbsp;&nbsp;&nbsp;print("Wear light clothes")<br>
          else:<br>
          &nbsp;&nbsp;&nbsp;&nbsp;print("It's comfortable! ğŸ˜Š")<br>
          &nbsp;&nbsp;&nbsp;&nbsp;print("Perfect weather!")
        </div>
      </div>
      
      <div class="condition-card">
        <h4>ğŸ“ Grade Checker</h4>
        <div class="code-editor">
          score = 85<br><br>
          
          if score >= 90:<br>
          &nbsp;&nbsp;&nbsp;&nbsp;print("Excellent! A grade ğŸŒŸ")<br>
          else:<br>
          &nbsp;&nbsp;&nbsp;&nbsp;print("Good job! Keep improving ğŸ“š")
        </div>
      </div>
    </div>

    <div class="tip-box">
      <h3>ğŸ”‘ Key Concepts</h3>
      <p>â€¢ **if**: Executes code when condition is True<br>
      â€¢ **else**: Executes code when condition is False<br>
      â€¢ **Indentation**: Python uses spaces/tabs to group code blocks<br>
      â€¢ **Colon (:)**: Always end if/else lines with a colon</p>
    </div>

    <p><strong>ğŸ¯ Practice Basic Decisions!</strong></p>
    <textarea id="decisionCode1" placeholder="Write your if/else statements...">print("ğŸ® Age Verification System")
print("=" * 30)

age = 16

if age >= 18:
    print("âœ… You are an adult!")
    print("You can vote and drive.")
    print("Welcome to adulthood! ğŸ‰")
else:
    print("ğŸ‘¶ You are a minor.")
    years_left = 18 - age
    print(f"You'll be an adult in {years_left} years.")
    print("Enjoy being young! ğŸŒŸ")

print("\nThanks for using our system!")</textarea>
    <br>
    <button class="button" onclick="runDecisionCode(1)">â–¶ï¸ Run Code</button>
    
    <div id="decisionOutput1" class="code-output hidden"></div>
  </div>

  <div id="decisionLesson2" class="hidden">
    <h3>ğŸ” Comparison Operators</h3>
    <p>Comparison operators are the tools that help your program make decisions. They compare values and return True or False.</p>
    
    <div class="condition-examples">
      <div class="condition-card">
        <h4>ğŸ“Š Comparison Operators</h4>
        <div class="code-editor">
          # Equal to<br>
          print(5 == 5)    # True<br>
          print(5 == 3)    # False<br><br>
          
          # Not equal to<br>
          print(5 != 3)    # True<br>
          print(5 != 5)    # False<br><br>
          
          # Greater than / Less than<br>
          print(10 > 5)    # True<br>
          print(3 < 8)     # True<br>
          print(5 >= 5)    # True (greater or equal)<br>
          print(4 <= 3)    # False (less or equal)
        </div>
      </div>
      
      <div class="condition-card">
        <h4>ğŸ¯ Multiple Conditions (elif)</h4>
        <div class="code-editor">
          score = 87<br><br>
          
          if score >= 90:<br>
          &nbsp;&nbsp;&nbsp;&nbsp;grade = "A"<br>
          &nbsp;&nbsp;&nbsp;&nbsp;message = "Outstanding! ğŸŒŸ"<br>
          elif score >= 80:<br>
          &nbsp;&nbsp;&nbsp;&nbsp;grade = "B"<br>
          &nbsp;&nbsp;&nbsp;&nbsp;message = "Great work! ğŸ‘"<br>
          elif score >= 70:<br>
          &nbsp;&nbsp;&nbsp;&nbsp;grade = "C"<br>
          &nbsp;&nbsp;&nbsp;&nbsp;message = "Good job! ğŸ“š"<br>
          else:<br>
          &nbsp;&nbsp;&nbsp;&nbsp;grade = "F"<br>
          &nbsp;&nbsp;&nbsp;&nbsp;message = "Study harder! ğŸ“–"<br><br>
          
          print(f"Score: {score}")<br>
          print(f"Grade: {grade}")<br>
          print(f"Message: {message}")
        </div>
      </div>
    </div>

    <div class="tip-box">
      <h3>âš¡ Operator Reference</h3>
      <p>â€¢ **==** : Equal to (not =, which is assignment)<br>
      â€¢ **!=** : Not equal to<br>
      â€¢ **>** : Greater than<br>
      â€¢ **<** : Less than<br>
      â€¢ **>=** : Greater than or equal to<br>
      â€¢ **<=** : Less than or equal to</p>
    </div>

    <p><strong>ğŸ¯ Build a Smart Comparison System!</strong></p>
    <textarea id="decisionCode2" placeholder="Practice with comparison operators...">print("ğŸª Smart Shopping Assistant")
print("=" * 35)

# Product comparison system
item_price = 45.99
budget = 50.00
discount_threshold = 40.00

print(f"Item Price: ${item_price}")
print(f"Your Budget: ${budget}")
print()

# Check if affordable
if item_price <= budget:
    print("âœ… You can afford this item!")
    savings = budget - item_price
    print(f"ğŸ’° You'll save ${savings:.2f}")
    
    # Check for discount eligibility
    if item_price >= discount_threshold:
        discount = item_price * 0.15  # 15% discount
        final_price = item_price - discount
        print(f"ğŸ‰ Bonus! 15% discount applied!")
        print(f"ğŸ’¸ Final price: ${final_price:.2f}")
    else:
        print("ğŸ“ No discount available")
        
else:
    print("âŒ Item is over budget")
    needed = item_price - budget
    print(f"ğŸ’³ You need ${needed:.2f} more")

print("\nHappy shopping! ğŸ›ï¸")</textarea>
    <br>
    <button class="button" onclick="runDecisionCode(2)">â–¶ï¸ Run Code</button>
    
    <div id="decisionOutput2" class="code-output hidden"></div>
  </div>

  <div id="decisionLesson3" class="hidden">
    <h3>ğŸ† Challenge: Advanced Decision System</h3>
    <p><strong>Mission:</strong> Build a comprehensive decision-making program!</p>
    
    <div class="tip-box">
      <h3>ğŸ¯ Challenge Requirements</h3>
      <p>Create a program that includes:</p>
      <ul style="text-align: left;">
        <li>Multiple if/elif/else statements</li>
        <li>Comparison operators</li>
        <li>Logical operators (and, or, not)</li>
        <li>Real-world decision making scenarios</li>
      </ul>
    </div>

    <textarea id="decisionCode3" placeholder="Build your decision system here...">print("ğŸ® Game Character Creator")
print("=" * 40)

# Character stats
level = 15
health = 85
magic_power = 60
has_sword = True
has_shield = False

print(f"Character Level: {level}")
print(f"Health: {health}%")
print(f"Magic Power: {magic_power}")
print(f"Has Sword: {has_sword}")
print(f"Has Shield: {has_shield}")
print()

# Determine character class and abilities
if level >= 20 and magic_power >= 80:
    character_class = "ğŸ§™â€â™‚ï¸ Archmage"
    special_ability = "Master all spells"
elif level >= 15 and has_sword and has_shield:
    character_class = "ğŸ›¡ï¸ Paladin"
    special_ability = "Divine protection"
elif level >= 10 and magic_power >= 50:
    character_class = "ğŸ”® Mage"
    special_ability = "Cast powerful spells"
elif level >= 10 and has_sword:
    character_class = "âš”ï¸ Warrior"
    special_ability = "Sword mastery"
elif magic_power >= 30:
    character_class = "ğŸŒŸ Apprentice"
    special_ability = "Basic magic"
else:
    character_class = "ğŸ‘¤ Novice"
    special_ability = "Learning the basics"

print(f"ğŸ­ Character Class: {character_class}")
print(f"âœ¨ Special Ability: {special_ability}")

# Battle readiness check
if health >= 80 and (has_sword or magic_power >= 50):
    print("âš”ï¸ Ready for battle!")
elif health >= 50:
    print("ğŸ¥ Consider healing before battle")
else:
    print("ğŸ’Š Must heal before fighting!")

print("\nCharacter creation complete! ğŸ‰")</textarea>
    <br>
    <button class="button" onclick="runDecisionCode(3)">ğŸš€ Create Character</button>
    
    <div id="decisionOutput3" class="code-output hidden"></div>
  </div>
</div>

<!-- Result Screen -->
<div id="endScreen" class="section hidden">
  <h2>ğŸ Excellent Progress!</h2>
  <p id="resultSummary"></p>
  <div class="navigation">
    <button class="button" onclick="goToMenu()">ğŸ  Main Menu</button>
    <button class="button" onclick="goToNextLevels()">Next Levels â†’</button>
  </div>
</div>

</div>

<div class="navigation">
  <a href="levels1-2.html" class="nav-btn">â† Levels 1-2</a>
  <a href="levels5-6.html" class="nav-btn">Levels 5-6 â†’</a>
</div>

<script>
// Game State
let currentSection = 'menu';
let currentMathLesson = 1;
let currentDecisionLesson = 1;
let gameProgress = {
  math: false,
  decisions: false
};

// Initialize game
window.onload = () => {
  createStars();
  updateDisplay();
  goToMenu();
  loadProgress();
};

function createStars() {
  const starsContainer = document.getElementById('stars');
  for (let i = 0; i < 100; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 100 + '%';
    star.style.width = star.style.height = Math.random() * 3 + 1 + 'px';
    star.style.animationDelay = Math.random() * 2 + 's';
    starsContainer.appendChild(star);
  }
}

function updateDisplay() {
  const totalXP = parseInt(localStorage.getItem("totalXP") || "0");
  document.getElementById("totalXP").textContent = totalXP;
  
  // Calculate progress
  const completedLevels = Object.values(gameProgress).filter(Boolean).length;
  const progress = (completedLevels / 2) * 100;
  
  document.getElementById("progressFill").style.width = progress + '%';
  document.getElementById("progressText").textContent = Math.round(progress) + '%';
  
  updateLevelCards();
}

function updateLevelCards() {
  const cards = ['mathCard', 'decisionsCard'];
  const levels = ['math', 'decisions'];
  
  cards.forEach((cardId, index) => {
    const card = document.getElementById(cardId);
    const level = levels[index];
    
    card.classList.remove('completed', 'active');
    
    if (gameProgress[level]) {
      card.classList.add('completed');
    } else if (currentSection === level) {
      card.classList.add('active');
    }
  });
}

function goToMenu() {
  hideAllSections();
  currentSection = 'menu';
  updateDisplay();
}

function goToLevel(level) {
  currentSection = level;
  hideAllSections();
  
  if (level === 'math') {
    document.getElementById('mathLevel').classList.remove('hidden');
    showMathLesson(1);
  } else if (level === 'decisions') {
    document.getElementById('decisionsLevel').classList.remove('hidden');
    showDecisionLesson(1);
  }
  
  updateDisplay();
}

function hideAllSections() {
  document.querySelectorAll(".section").forEach(el => el.classList.add("hidden"));
}

function showMathLesson(lessonNum) {
  // Hide all math lessons
  for (let i = 1; i <= 3; i++) {
    document.getElementById(`mathLesson${i}`).classList.add('hidden');
  }
  
  // Update tab styles
  const mathTabs = document.querySelector('#mathLevel .lesson-tabs').children;
  Array.from(mathTabs).forEach(tab => tab.classList.remove('active'));
  mathTabs[lessonNum - 1].classList.add('active');
  
  // Show selected lesson
  document.getElementById(`mathLesson${lessonNum}`).classList.remove('hidden');
  currentMathLesson = lessonNum;
}

function showDecisionLesson(lessonNum) {
  // Hide all decision lessons
  for (let i = 1; i <= 3; i++) {
    document.getElementById(`decisionLesson${i}`).classList.add('hidden');
  }
  
  // Update tab styles
  const decisionTabs = document.querySelector('#decisionsLevel .lesson-tabs').children;
  Array.from(decisionTabs).forEach(tab => tab.classList.remove('active'));
  decisionTabs[lessonNum - 1].classList.add('active');
  
  // Show selected lesson
  document.getElementById(`decisionLesson${lessonNum}`).classList.remove('hidden');
  currentDecisionLesson = lessonNum;
}

function runMathCode(lessonNum) {
  const code = document.getElementById(`mathCode${lessonNum}`).value;
  const output = document.getElementById(`mathOutput${lessonNum}`);
  
  output.classList.remove('hidden');
  
  try {
    let result = 'Code executed successfully! In a real Python environment, this would show:\n\n';
    
    // Simulate some basic output for demonstration
    if (code.includes('print(')) {
      result += 'â€¢ Mathematical calculations\n';
      result += 'â€¢ Variable assignments and operations\n';
      result += 'â€¢ Formatted output with results\n';
    }
    
    if (lessonNum === 3 && code.includes('input(')) {
      result += '\nğŸ‰ Excellent Calculator! Your program demonstrates:\n';
      result += 'âœ… User input handling\n';
      result += 'âœ… Mathematical operations\n';
      result += 'âœ… Conditional logic\n';
      result += 'âœ… Error handling\n';
      
      gameProgress.math = true;
      const xp = parseInt(localStorage.getItem("totalXP") || "0") + 300;
      localStorage.setItem("totalXP", xp);
      saveProgress();
      updateDisplay();
    }
    
    output.innerHTML = '<strong>ğŸ–¥ï¸ Output:</strong><br>' + result;
    
  } catch (error) {
    output.innerHTML = `<strong>âŒ Error:</strong><br>${error.message}`;
  }
}

function runDecisionCode(lessonNum) {
  const code = document.getElementById(`decisionCode${lessonNum}`).value;
  const output = document.getElementById(`decisionOutput${lessonNum}`);
  
  output.classList.remove('hidden');
  
  try {
    let result = 'Code executed successfully! In a real Python environment, this would show:\n\n';
    
    // Simulate some basic output for demonstration
    if (code.includes('if') && code.includes('else')) {
      result += 'â€¢ Conditional decision making\n';
      result += 'â€¢ Dynamic program flow\n';
      result += 'â€¢ User-friendly output messages\n';
    }
    
    if (lessonNum === 3 && code.includes('elif') && code.includes('and')) {
      result += '\nğŸ‰ Amazing Decision System! Your program demonstrates:\n';
      result += 'âœ… Complex conditional logic\n';
      result += 'âœ… Multiple decision paths\n';
      result += 'âœ… Logical operators\n';
      result += 'âœ… Real-world applications\n';
      
      gameProgress.decisions = true;
      const xp = parseInt(localStorage.getItem("totalXP") || "0") + 400;
      localStorage.setItem("totalXP", xp);
      saveProgress();
      updateDisplay();
    }
    
    output.innerHTML = '<strong>ğŸ–¥ï¸ Output:</strong><br>' + result;
    
  } catch (error) {
    output.innerHTML = `<strong>âŒ Error:</strong><br>${error.message}`;
  }
}

function goToNextLevels() {
  window.location.href = 'levels5-6.html';
}

function loadProgress() {
  const saved = localStorage.getItem('gameProgress');
  if (saved) {
    const savedProgress = JSON.parse(saved);
    gameProgress.math = savedProgress.level5 || false;
    gameProgress.decisions = savedProgress.level6 || false;
  }
}

function saveProgress() {
  localStorage.setItem('gameProgress', JSON.stringify(gameProgress));
}

// Check if both levels are completed
function checkCompletion() {
  if (gameProgress.math && gameProgress.decisions) {
    document.getElementById('resultSummary').innerHTML = `
      <div style="text-align: center; font-size: 18px;">
        <h3>ğŸ† Outstanding Achievement!</h3>
        <p>You've mastered both Math & Calculations and Decision Making!</p>
        <p>ğŸ‰ Ready for the next adventure: Loops & Advanced Programming!</p>
      </div>
    `;
    
    hideAllSections();
    document.getElementById('endScreen').classList.remove('hidden');
  }
}

// Initialize
updateDisplay();
</script>
</body>
</html>